{% extends "base.html" %}

{% block title %}clio - Professional Research Platform{% endblock %}

{% block content %}
<!-- Hero Section with Gradient -->
<section class="hero-section">
    <div class="hero-content">
        <div class="container">
            <div class="hero-title fade-in" style="display: flex; align-items: center; justify-content: center; gap: var(--space-4);">
                <img src="/static/images/logo-symbol.png" alt="clio symbol" style="height: 80px; width: 80px; filter: drop-shadow(0 4px 20px rgba(255, 255, 255, 0.2));">
                <h1 style="margin: 0; font-size: var(--text-5xl); font-weight: 800; background: var(--gradient-brand); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; text-shadow: none;">clio</h1>
        </div>
            <p class="hero-subtitle fade-in" style="animation-delay: 0.1s;">
                <span style="background: var(--gradient-brand); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                    Access millions of records from The National Archives with AI-powered semantic search<br>
                    Professional research tools for historians, genealogists, and researchers
                </span>
            </p>
            
            <!-- Premium Search Box -->
            <div class="search-container fade-in" style="animation-delay: 0.2s;">
                <form action="/search" method="post">
                    <div class="search-box">
                        <i class="bi bi-search" style="font-size: 1.5rem; color: var(--gray-400);"></i>
                        <input type="text" name="q" class="search-input" 
                               placeholder="Search for records, people, places, or historical events..." 
                               required>
                        <button type="submit" class="btn search-btn">
                            <i class="bi bi-arrow-right"></i>
                            Search
                        </button>
                    </div>
                    
                    <!-- Search Options -->
                    <div style="margin-top: var(--space-4); display: flex; justify-content: center; gap: var(--space-6); flex-wrap: wrap;">
                        <label style="display: flex; align-items: center; gap: var(--space-2); color: rgba(255,255,255,0.9); cursor: pointer;">
                            <input type="checkbox" name="semantic" class="form-check-input" style="margin: 0;">
                            <i class="bi bi-cpu"></i> AI Semantic Search
                                </label>
                        <select name="collection" class="form-select" style="width: auto; background: rgba(255,255,255,0.9); backdrop-filter: blur(10px);">
                                <option value="">All Collections</option>
                                {% for collection in collections %}
                            <option value="{{ collection.collection }}">{{ collection.collection }}</option>
                                {% endfor %}
                            </select>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- Legal notice removed per branding update -->

<!-- Main Content -->
<div class="container" style="margin-top: var(--space-16);">
    <!-- Key Statistics -->
    <div class="stats-grid">
        <div class="stat-card fade-in" style="animation-delay: 0.1s;">
            <i class="bi bi-database-fill-gear" style="font-size: 3rem; color: var(--primary-500); margin-bottom: var(--space-4);"></i>
            <div class="stat-number">{{ "{:,}".format(stats.total_records or 0) }}</div>
            <div class="stat-label">Total Records</div>
        </div>
        <div class="stat-card fade-in" style="animation-delay: 0.2s;">
            <i class="bi bi-collection-play-fill" style="font-size: 3rem; color: var(--accent-purple); margin-bottom: var(--space-4);"></i>
            <div class="stat-number">{{ collections|length if collections else 0 }}</div>
            <div class="stat-label">Collections</div>
        </div>
        <div class="stat-card fade-in" style="animation-delay: 0.3s;">
            <i class="bi bi-building" style="font-size: 3rem; color: var(--accent-teal); margin-bottom: var(--space-4);"></i>
            <div class="stat-number">{{ stats.archives|length if stats.archives else 0 }}</div>
            <div class="stat-label">Archives</div>
        </div>
        <div class="stat-card fade-in" style="animation-delay: 0.4s;">
            <i class="bi bi-cpu-fill" style="font-size: 3rem; color: var(--accent-pink); margin-bottom: var(--space-4);"></i>
            <div class="stat-number">AI</div>
            <div class="stat-label">Semantic Search</div>
            </div>
        </div>
        
    <!-- Content Grid -->
    <div class="row" style="margin-top: var(--space-16); gap: var(--space-8) 0;">
        <!-- Left Column -->
        <div class="col-lg-8">
            <!-- Popular Research Topics -->
            <div class="card shadow-card fade-in">
                <div class="card-header">
                    <h4>
                        <i class="bi bi-fire" style="color: var(--accent-amber);"></i>
                        Popular Research Topics
                    </h4>
                </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                            <a href="/search?q=World War One army service records" class="record-card" style="text-decoration: none; margin-bottom: var(--space-4); padding: var(--space-4);">
                                <div class="d-flex align-items-center gap-3">
                                    <i class="bi bi-arrow-right-circle-fill" style="font-size: 1.5rem; color: var(--primary-500);"></i>
                                    <div>
                                        <div style="font-weight: 600; color: var(--gray-900);">WWI Army Service Records</div>
                                        <div style="font-size: var(--text-sm); color: var(--gray-600);">Military personnel records 1914-1918</div>
                                    </div>
                                </div>
                            </a>
                            <a href="/search?q=Passenger lists" class="record-card" style="text-decoration: none; margin-bottom: var(--space-4); padding: var(--space-4);">
                                <div class="d-flex align-items-center gap-3">
                                    <i class="bi bi-arrow-right-circle-fill" style="font-size: 1.5rem; color: var(--primary-500);"></i>
                                    <div>
                                        <div style="font-weight: 600; color: var(--gray-900);">Passenger Lists & Immigration</div>
                                        <div style="font-size: var(--text-sm); color: var(--gray-600);">Travel and immigration records</div>
                                    </div>
                                </div>
                            </a>
                            <a href="/search?q=Merchant navy service" class="record-card" style="text-decoration: none; margin-bottom: var(--space-4); padding: var(--space-4);">
                                <div class="d-flex align-items-center gap-3">
                                    <i class="bi bi-arrow-right-circle-fill" style="font-size: 1.5rem; color: var(--primary-500);"></i>
                                    <div>
                                        <div style="font-weight: 600; color: var(--gray-900);">Merchant Navy Service</div>
                                        <div style="font-size: var(--text-sm); color: var(--gray-600);">Maritime service records</div>
                                    </div>
                                </div>
                            </a>
                            <a href="/search?q=World War One army war diaries" class="record-card" style="text-decoration: none; padding: var(--space-4);">
                                <div class="d-flex align-items-center gap-3">
                                    <i class="bi bi-arrow-right-circle-fill" style="font-size: 1.5rem; color: var(--primary-500);"></i>
                                    <div>
                                        <div style="font-weight: 600; color: var(--gray-900);">WWI War Diaries</div>
                                        <div style="font-size: var(--text-sm); color: var(--gray-600);">Unit war diaries and logs</div>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-6">
                            <a href="/search?q=Poor law" class="record-card" style="text-decoration: none; margin-bottom: var(--space-4); padding: var(--space-4);">
                                <div class="d-flex align-items-center gap-3">
                                    <i class="bi bi-arrow-right-circle-fill" style="font-size: 1.5rem; color: var(--primary-500);"></i>
                                    <div>
                                        <div style="font-weight: 600; color: var(--gray-900);">Poor Law & Workhouse</div>
                                        <div style="font-size: var(--text-sm); color: var(--gray-600);">Social welfare records</div>
                                    </div>
                                </div>
                            </a>
                            <a href="/search?q=Naturalisation" class="record-card" style="text-decoration: none; margin-bottom: var(--space-4); padding: var(--space-4);">
                                <div class="d-flex align-items-center gap-3">
                                    <i class="bi bi-arrow-right-circle-fill" style="font-size: 1.5rem; color: var(--primary-500);"></i>
                                    <div>
                                        <div style="font-weight: 600; color: var(--gray-900);">Naturalisation & Citizenship</div>
                                        <div style="font-size: var(--text-sm); color: var(--gray-600);">British citizenship applications</div>
                                    </div>
                                </div>
                            </a>
                            <a href="/search?q=Royal Navy service records" class="record-card" style="text-decoration: none; margin-bottom: var(--space-4); padding: var(--space-4);">
                                <div class="d-flex align-items-center gap-3">
                                    <i class="bi bi-arrow-right-circle-fill" style="font-size: 1.5rem; color: var(--primary-500);"></i>
                                    <div>
                                        <div style="font-weight: 600; color: var(--gray-900);">Royal Navy Service</div>
                                        <div style="font-size: var(--text-sm); color: var(--gray-600);">Naval personnel records</div>
                                    </div>
                                </div>
                            </a>
                            <a href="/search?q=RAF combat reports" class="record-card" style="text-decoration: none; padding: var(--space-4);">
                                <div class="d-flex align-items-center gap-3">
                                    <i class="bi bi-arrow-right-circle-fill" style="font-size: 1.5rem; color: var(--primary-500);"></i>
                                    <div>
                                        <div style="font-weight: 600; color: var(--gray-900);">RAF Combat Reports</div>
                                        <div style="font-size: var(--text-sm); color: var(--gray-600);">Air force mission records</div>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Platform Features -->
            <div class="card shadow-card fade-in" style="margin-top: var(--space-8);">
                <div class="card-header">
                    <h4>
                        <i class="bi bi-stars" style="color: var(--accent-amber);"></i>
                        Professional Research Platform
                    </h4>
                </div>
                <div class="card-body">
                    <div class="row" style="gap: var(--space-6) 0;">
                        <div class="col-md-6">
                            <div style="padding: var(--space-4); background: linear-gradient(135deg, var(--primary-50) 0%, var(--primary-100) 100%); border-radius: var(--radius-lg); margin-bottom: var(--space-4);">
                                <div class="d-flex align-items-start gap-3">
                                    <i class="bi bi-cpu-fill" style="font-size: 2rem; color: var(--primary-600);"></i>
                                    <div>
                                        <h6 style="font-weight: 700; margin-bottom: var(--space-2);">AI-Powered Search</h6>
                                        <p style="font-size: var(--text-sm); color: var(--gray-700); margin: 0;">Natural language understanding for complex queries with semantic matching and relevance scoring</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div style="padding: var(--space-4); background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border-radius: var(--radius-lg); margin-bottom: var(--space-4);">
                                <div class="d-flex align-items-start gap-3">
                                    <i class="bi bi-funnel-fill" style="font-size: 2rem; color: var(--accent-amber);"></i>
                                    <div>
                                        <h6 style="font-weight: 700; margin-bottom: var(--space-2);">Advanced Filtering</h6>
                                        <p style="font-size: var(--text-sm); color: var(--gray-700); margin: 0;">Date ranges, departments, closure status, and sophisticated search operators</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div style="padding: var(--space-4); background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%); border-radius: var(--radius-lg);">
                                <div class="d-flex align-items-start gap-3">
                                    <i class="bi bi-graph-up-arrow" style="font-size: 2rem; color: var(--success);"></i>
                                    <div>
                                        <h6 style="font-weight: 700; margin-bottom: var(--space-2);">Real-time Analytics</h6>
                                        <p style="font-size: var(--text-sm); color: var(--gray-700); margin: 0;">Comprehensive statistics and data quality monitoring</p>
                                    </div>
                                </div>
                            </div>
                    </div>
                    <div class="col-md-6">
                            <div style="padding: var(--space-4); background: linear-gradient(135deg, #ddd6fe 0%, #c4b5fd 100%); border-radius: var(--radius-lg);">
                                <div class="d-flex align-items-start gap-3">
                                    <i class="bi bi-download" style="font-size: 2rem; color: var(--accent-purple);"></i>
                                    <div>
                                        <h6 style="font-weight: 700; margin-bottom: var(--space-2);">Export Capabilities</h6>
                                        <p style="font-size: var(--text-sm); color: var(--gray-700); margin: 0;">Multiple formats (JSON, CSV, XML) for research and analysis</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
                </div>
            </div>
        </div>
        
        <!-- Right Column -->
        <div class="col-lg-4">
            <!-- Featured Collections -->
        {% if collections %}
            <div class="card shadow-card fade-in" style="animation-delay: 0.2s;">
                <div class="card-header">
                    <h5 style="margin: 0;">
                        <i class="bi bi-collection-play"></i>
                        Featured Collections
                    </h5>
                </div>
                <div class="card-body" style="padding: var(--space-4);">
                    {% for collection in collections[:6] %}
                    <a href="/search?collection={{ collection.collection }}" style="text-decoration: none; display: block; padding: var(--space-4); background: var(--gray-50); border-radius: var(--radius-lg); margin-bottom: var(--space-3); transition: var(--transition-base);" onmouseover="this.style.background='var(--primary-50)'; this.style.transform='translateX(4px)';" onmouseout="this.style.background='var(--gray-50)'; this.style.transform='translateX(0)';">
                        <div style="font-weight: 600; color: var(--gray-900); margin-bottom: var(--space-1);">{{ collection.collection }}</div>
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="badge badge-primary">{{ "{:,}".format(collection.record_count) }}</span>
                            {% if collection.earliest_date or collection.latest_date %}
                            <span style="font-size: var(--text-xs); color: var(--gray-600);">
                                {{ collection.earliest_date or '' }}{% if collection.earliest_date and collection.latest_date %} - {% endif %}{{ collection.latest_date or '' }}
                            </span>
                            {% endif %}
                        </div>
                    </a>
                    {% endfor %}
                    <a href="/collections" class="btn btn-outline-primary" style="width: 100%; margin-top: var(--space-4);">
                        <i class="bi bi-eye"></i> View All Collections
                    </a>
            </div>
        </div>
        {% endif %}
        
        <!-- Research Tips -->
            <div class="card shadow-card fade-in" style="margin-top: var(--space-6); animation-delay: 0.3s;">
                <div class="card-header">
                    <h5 style="margin: 0;">
                        <i class="bi bi-lightbulb-fill" style="color: var(--accent-amber);"></i>
                        Research Tips
                    </h5>
                </div>
            <div class="card-body">
                    <div style="padding: var(--space-3); background: var(--gray-50); border-left: 3px solid var(--primary-500); border-radius: var(--radius); margin-bottom: var(--space-4);">
                        <div style="font-weight: 600; margin-bottom: var(--space-1);">Use Natural Language</div>
                        <div style="font-size: var(--text-sm); color: var(--gray-600);">Try queries like "soldiers who died in France 1916"</div>
                    </div>
                    <div style="padding: var(--space-3); background: var(--gray-50); border-left: 3px solid var(--accent-purple); border-radius: var(--radius); margin-bottom: var(--space-4);">
                        <div style="font-weight: 600; margin-bottom: var(--space-1);">Include Date Ranges</div>
                        <div style="font-size: var(--text-sm); color: var(--gray-600);">Specify years or historical periods for better results</div>
                    </div>
                    <div style="padding: var(--space-3); background: var(--gray-50); border-left: 3px solid var(--accent-teal); border-radius: var(--radius); margin-bottom: var(--space-4);">
                        <div style="font-weight: 600; margin-bottom: var(--space-1);">Try Alternative Spellings</div>
                        <div style="font-size: var(--text-sm); color: var(--gray-600);">Historical names often have variant spellings</div>
            </div>
                    <div style="padding: var(--space-3); background: var(--gray-50); border-left: 3px solid var(--accent-pink); border-radius: var(--radius);">
                        <div style="font-weight: 600; margin-bottom: var(--space-1);">Use Reference Numbers</div>
                        <div style="font-size: var(--text-sm); color: var(--gray-600);">If known, use series references like "WO 95"</div>
        </div>
    </div>
</div>

            <!-- System Status -->
            <div class="card shadow-card fade-in" style="margin-top: var(--space-6); animation-delay: 0.4s;">
                <div class="card-header">
                    <h5 style="margin: 0;">
                        <i class="bi bi-activity" style="color: var(--success);"></i>
                        System Status
                    </h5>
                </div>
            <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center" style="margin-bottom: var(--space-4);">
                        <span style="font-weight: 600;">Database</span>
                        <span class="badge badge-success">
                            <i class="bi bi-check-circle-fill"></i> Active
                        </span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center" style="margin-bottom: var(--space-4);">
                        <span style="font-weight: 600;">AI Search Engine</span>
                        <span class="badge badge-success">
                            <i class="bi bi-check-circle-fill"></i> Ready
                        </span>
                            </div>
                    <div class="d-flex justify-content-between align-items-center" style="margin-bottom: var(--space-6);">
                        <span style="font-weight: 600;">API Connection</span>
                        <span class="badge badge-success">
                            <i class="bi bi-check-circle-fill"></i> Stable
                        </span>
                        </div>
                    <a href="/stats" class="btn btn-outline-primary" style="width: 100%;">
                        <i class="bi bi-graph-up"></i> View Detailed Statistics
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
